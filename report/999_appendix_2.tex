\subsection{Prolonged deviations}\label{prolonged_deviations_appendix}

	\textbf{some words on prolonged deviations}
	
\begin{figure}
		\includegraphics[width=\linewidth]{plots/prolonged_intervention_boxplot.png}
		\caption{distribution of prices at and after prolonged deviation relative to alternative path \emph{without} forced deviation, i.e.\ the difference to the price at the same $\tau$ had no deviation taken place. Only includes converged runs because a clear counterfactual exists. Boxes demarcate 15th and 85th percentiles and are extended by whiskers that mark the entire range of price differences. Horizontal lines represent the group median.}
		\label{prolonged_intervention_boxplot}
\end{figure}


\pagebreak
\subsection{$\beta$}\label{beta_appendix}

\textbf{some words on beta}

\begin{figure}
	\includegraphics[width=\linewidth]{plots/average_intervention_beta_tabular.png}
	\caption{Average price trajectory around deviation. Only tabular learning. Includes converged and non-converged runs}
	\label{average_intervention_beta_tabular}
\end{figure}


\pagebreak
\subsection{$\lambda$}\label{lambda_appendix}


Recall that high values of $\lambda$ increase the algorithm's hindsight but increases variance. This is reflected in both convergence rates and outcomes. \autoref{converged_lambda} clearly indicates that high values of $\lambda$ impedes convergence for tabular learning and the separated polynomial method. Similarly, \autoref{lambda_violin} exhibits greater variability in profits with increasing $\lambda$. This holds true for all feature extraction methods, but is particularly conspicuous for the separated polynomial method where a significant number of runs end in profits below the Nash equilibrium once $\lambda \ge 0.6$ .\footnote{The runs with $\Delta <0$ are largely the simulations without convergence.} Finally, the conclusions regarding deviation patterns are robust to variations in $\lambda$. Except for tabular learning, the non deviating agent fails to punish cheating which the deviating agent does not reliably exploit that weakness.

\begin{figure}
	\includegraphics[width=\linewidth]{plots/converged_m.png}
	\caption{Number of runs per experiment that achieved convergence as a function of $\lambda$.}
	\label{converged_lambda}
\end{figure}

\begin{figure}
	\includegraphics[width=\linewidth]{plots/lambda_violin.png}
	\caption{distribution of $\Delta$ for various experiments. Includes converged and non-converged runs. Violin widths are scaled to maximize width of single violins, comparisons of widths between violins are not meaningful. Violins are trimmed at smallest and largest observation respectively. Horizontal lines represent the median.}
	\label{lambda_violin}
\end{figure}


\pagebreak
\subsection{Price grid}\label{price_grid_appendix}

\textbf{some words on m}

\textbf{additional picutre showing stronger response for $m=10$ compared to other $m's$}

\begin{figure}
	\includegraphics[width=\linewidth]{plots/converged_m.png}
	\caption{Number of runs per experiment that achieved convergence as a function of $m$.}
	\label{converged_m}
\end{figure}


\begin{figure}
	\includegraphics[width=\linewidth]{plots/average_intervention_m_10.png}
	\caption{Average price trajectory around deviation. $m=10$. Includes converged and non-converged runs}
	\label{average_intervention_m_10}
\end{figure}

\textbf{some words on $zeta$}

Moreover, \autoref{zeta_violin_prices} confirms that average prices upon convergence largely remain within the Nash and collusive benchmarks. Polynomial tiles constitute the only exception which further discredits the method as appropriate for the learning task.

\begin{figure}
	\includegraphics[width=\linewidth]{plots/zeta_violin_prices.png}
	\caption[Distribution of average prices by \gls{fem} and $\zeta$]{Distribution of average prices (over cycle steps and both players) by \gls{fem} and $\zeta$. Includes converged and non-converged runs. Violin widths are scaled to maximize width of individual violins, comparisons of widths between violins are not meaningful. Violins are trimmed at smallest and largest observation respectively. Horizontal lines represent the median.}
	\label{zeta_violin_prices}
\end{figure}


\begin{figure}
	\includegraphics[width=\linewidth]{plots/average_intervention_zeta_tabular.png}
	\caption{Average price trajectory around deviation. Only tabular learning. Includes converged and non-converged runs}
	\label{average_intervention_zeta_tabular}
\end{figure}

\pagebreak
\subsection{Discount factor}\label{discounting_appendix}
\textbf{some words on $\gamma$}

\begin{figure}
	\includegraphics[width=\linewidth]{plots/gamma_violin_price.png}
	\caption{distribution of prices averaged over the last 100 time steps upon convergence and over both agents for various values of $\gamma$. Includes converged and non-converged runs. Violin widths are scaled to maximize width of single violins, comparisons of widths between violins are not meaningful. Isolated data points above $2$ are not displayed to improve presentability.}
	\label{gamma_violin_price}
\end{figure}



\pagebreak
\subsection{Algorithm Variations}\label{vary_algorithm_appendix}

\textbf{words on tree backup?}

Similarly,  \autoref{average_intervention_tb} reiterates that only tabular learning agents show a consistent punishment in response to a deviation and the cheated agents learning with feature approximation methods fail to respond. The bottom right panel, representing the polynomial tiles \gls{fem}, hints at a vague \emph{matching strategy} leading to new equilibria again, but here averaging turns out to be deceptive. In fact, only in 12.5\% of the runs does the non deviating agent respond with a price cut. Compared to the Expected SARSA algorithm, polynomial tiles exhibits a larger share of runs at the perfectly collusive solution.

\begin{figure}
	\includegraphics[width=\linewidth]{plots/average_intervention_tb.png}
	\caption[Average $\Delta$ for \emph{tree backup} algorithm with optimized $\alpha$ by \gls{fem}]{Average $\Delta$ for \emph{tree backup} algorithm with optimized $\alpha$ by \gls{fem}. Includes converged and non-converged runs.}
	\label{average_intervention_tb}
\end{figure}


The distribution of deviation prices and responses are displayed as boxplots in \autoref{intervention_boxplot_tb}.

\autoref{intervention_boxplot_tb} displays the distribution of prices around the forced deviation. With regard to polynomial tiles, \emph{some} runs show a sort of punishment or matching behavior in the wake of a price cut, but the vast majority (87.5\%) of runs show no response.

\begin{figure}
	\includegraphics[width=\linewidth]{plots/intervention_boxplot_tb.png}
	\caption{distribution of prices at and after deviation relative to alternative path \emph{without} forced deviation, i.e.\ the difference to the prices at the same $\tau$ had no deviation taken place. Boxes demarcate 15th and 85th percentiles and are extended by whiskers that mark the entire range of price differences. Horizontal lines represent the group median.}
	\label{intervention_boxplot_tb}
\end{figure}


\pagebreak

Box 2 describes the \emph{on-policy} algorithm used in \autoref{vary_algorithm}.

\begin{algorithm}
	\caption{Gradient Descend SARSA (on policy)}
	\begin{algorithmic}[]
		\label{SARSA}
		\small
		\STATE input feasible prices via $m \in \mathbb{N}$ and $\zeta > 0$
		\STATE configure static algorithm parameters $\alpha > 0$, $\beta > 0$, and $\lambda \in [0, 1]$
		\STATE initialize parameter vector and eligibility trace $\boldsymbol{w} = \boldsymbol{z} = \boldsymbol{0}$
		\STATE declare convergence rule (see \autoref{convergence})
		\STATE start tracking time: $t = 1$
		\STATE randomly initialize state $S_t$
		\STATE choose initial action $A_t$
		\WHILE{convergence is not achieved,}
		\STATE observe profit $\pi$, adjust to reward $r$
		\STATE move to next state: $t \leftarrow t+1$ and $S_{t+1} \leftarrow A_t$
		\STATE select action $A_{t+1}$ according to \autoref{action_selection}
		\STATE calculate TD-error: $\delta \leftarrow r + \gamma \hat{q}(S_{t+1}, A_{t+1}) - \hat{q}(S_t, A_t)$ (\autoref{td_error_on_policy})
		\STATE update eligibility trace: $\boldsymbol{z} \leftarrow \gamma \lambda \boldsymbol{z} + \boldsymbol{x}$
		\STATE update parameter vector: $\boldsymbol{w} \leftarrow \boldsymbol{w} + \alpha  \delta  \boldsymbol{z}$ (\autoref{update_rule})
		\STATE $S \leftarrow S_{t+1}$ and $A \leftarrow A_{t+1}$
		\ENDWHILE
	\end{algorithmic}
\end{algorithm}




\pagebreak
\subsection{Differential Reward}\label{differential_appendix}

\textbf{words on differential reward setting}

Curiously, the separated polynomial method struggles to achieve convergence in the differential reward setting. \autoref{convergence_at_upsilon} illustrates that a surprisingly large number of runs converge at a stage where exploration is incredibly rare. This suggests that agents frequently change their evaluation of what the optimal action is. Moreover, this may also help to explain the large share of non-converged runs (refer back to \autoref{converged_upsilon}) with an insufficient length of episodes per run.

\begin{figure}
	\includegraphics[width=\linewidth]{plots/convergence_at_upsilon.png}
	\caption{timing of convergence n the differential reward setting, runs that did not converge or failed to complete are excluded. Width of bins: 8,000}
	\label{convergence_at_upsilon}
\end{figure}


\autoref{upsilon_violin}

\begin{figure}
	\includegraphics[width=\linewidth]{plots/upsilon_violin.png}
	\caption{distribution of $\Delta$ in the differential reward setting for various values of $\upsilon$. Includes converged and non-converged runs. Violin widths are scaled to maximize width of single violins, comparisons of widths between violins are not meaningful. Violins are trimmed at smallest and largest observation respectively. Horizontal lines represent the median.}
	\label{upsilon_violin}
\end{figure}

\autoref{intervention_boxplot_tiling} illustrates the charged prices around the intervention relative to a counterfactual without a forced deviation for tile coding. Tabular learning shows a clear tendency to punish price cuts at $\tau = 2$. For tile coding and polynomial tiles, a price cut in response to the deviation occurs in \emph{some} runs.

\begin{figure}
	\includegraphics[width=\linewidth]{plots/intervention_boxplot_upsilon_005.png}
	\caption{distribution of prices in the differential reward setting with $\upsilon = 0.005$ at and after deviation relative to alternative path \emph{without} forced deviation, i.e.\ the difference to the prices at the same $\tau$ had no deviation taken place. Boxes demarcate 15th and 85th percentiles and are extended by whiskers that mark the entire range of price differences. Horizontal lines represent the group median.}
	\label{intervention_boxplot_tiling}
\end{figure}